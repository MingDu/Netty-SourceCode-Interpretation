# PooledByteBuf 管理

## 概括
本文只分析了在堆外内存中, 以池化的方式分配及回收ByteBuf. 
在看具体的实现之前, 先大概看一下面对的问题及解决思路, 可能更容易让我们理解. 
打个比方, 我们现在是地主(这种感觉应该比较爽), 准备建很多楼, 有很多工位, 我们要把这些工位租给有需要的公司或者个人, 就像潘总的Soho 3Q似的. 
我们会先想到每栋楼建建很多层, 每层建很多房间, 每个房间摆一溜一溜的工位. 想租几个工位的就找小桌子租给他, 几个小公司拼一个大桌, 土豪公司的就一把一把房间的租给他. Netty就是这样做的, 一整层叫PoolChunk, 一张桌子叫PoolSubpage, 放桌子的房间Netty没有给一个单独的类, 代码中的名字叫Run, 这里先这么叫吧. 就像这样:![楼层布局](images/3.PooledByteBufAllocator/4.Brief-6.1.rooms.png)    
那现在的问题就是:
1. 咱们怎么规划这每一层多少个房间, 每个房间有多少个座位, 最小的一桌有几个座位, 最大的桌子有几个座位.    
2. 以什么样的方式来管理分配的及闲置的空间, 便于更高效的分配与回收. 
3. 具体的分配与回收实现.
4. 池化的加速. 

##具体的实现源码:

1. [SizeClasses](./Siz
2. [eClasses.md)
3.  
